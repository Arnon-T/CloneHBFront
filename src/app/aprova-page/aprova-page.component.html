<div *ngIf="authGlobal.authority === 'sistema' || authGlobal.authority === 'gestor'; else acessoNegado">
  <div class="container-aprovacao">
    <div class="content-aprovacao">
      <div class="content-area-aprovacao">
        <app-functionality-button-area></app-functionality-button-area>
        <div class="content-page">
          <div class="header-aprovacao">
            <h2>Gerenciamento de Aprovação de Locação</h2>
          </div>
          <div *ngIf="isLoading === false; else loading" class="content-actions">
            <div class="alert-area">
              <alert></alert>
            </div>
            <div class="actions-table">
              <div id="dropdown-vehicle-type" class="dropdown-area">
                <div class="container-area" (click)="openDropdown('dropdown-tipo-veiculo')">
                  <span>{{tipo}}</span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="#0082BF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M6 9l6 6 6-6" /></svg>
                </div>
                <div id="dropdown-tipo-veiculo" class="container-area-dropped">
                  <div class="select-option" *ngFor="let tipoString of tipos"
                    (click)="selectTipoOnDropdown(tipoString)">
                    <span>{{tipoString}}</span>
                  </div>
                </div>
              </div>
              <div class="dropdown-area">
                <div class="container-area" (click)="openDropdown('dropdown-prioridade')">
                  <span *ngIf="isLoading === false" class="tipo-text">{{periodo.descricao}}</span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="#0082BF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M6 9l6 6 6-6" /></svg>
                </div>
                <div id="dropdown-prioridade" class="container-area-dropped">
                  <div class="select-option" *ngFor="let periodoObj of periodos"
                    (click)="selectPeriodoOnDropdown(periodoObj)">
                    <span>{{periodoObj.descricao}}</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="checkboxes">
              <div class="content-checkbox">
                <div class="input-checkbox">
                  <label class="container-checkbox" for="input-trabalho-noturno">
                    <input id="input-trabalho-noturno" type="checkbox" (change)="checkTrabalhoNoturno($event)">
                    <span class="span-checkmark"></span>
                  </label>
                  <span class="text-checkbox">Horário não comercial. (Noturno)</span>
                </div>
              </div>
            </div>
            <ng-container *ngIf="vagaInfo !== null && vagaInfo !== undefined; else isNullVagaInfo">
              <div class="vagas-candidatos">
                <span>Vagas Livres: {{vagaInfo.quantidade}}</span>
                <span>Candidatos: {{vagaContent.vagaGaragemPage.totalElements}}</span>
              </div>
            </ng-container>
            <div id="isNullVagaInfo" *ngIf="vagaInfo === null || vagaInfo === undefined" class="vagas-candidatos">
              <span>Não existe quantidade de vagas para esse período.</span>
            </div>
            <div class="table-area">
              <div class="table-head">
                <div class="content-head">
                  <div class="column colaborador"><span>Colaborador</span></div>
                  <div class="column status">Status</div>
                </div>
              </div>
              <div class="table-body">
                <div *ngIf="isLoading === false; else isloading" class="content-body">
                  <ng-container *ngIf="listaVagas.length >= 1; else noContentOnList">
                    <div *ngFor="let vaga of listaVagas" class="content-line">
                      <div class="content-user">
                        <div class="nome-colaborador">
                          <span class="nome-completo">{{vaga.colaborador.nome}}</span>
                          <span class="email">{{vaga.colaborador.email}}</span>
                        </div>
                        <div *ngIf="vaga.statusVaga === 'EMAPROVACAO'" class="status">
                          <span>Em Aprovação</span>
                        </div>
                        <div *ngIf="vaga.statusVaga !== 'EMAPROVACAO'" class="status">
                          <span>{{vaga.statusVaga}}</span>
                        </div>
                      </div>
                      <ng-container *ngIf="moreColaboradorThanVagas === false">
                        <label class="container-checkbox" for="{{'input-add-list-' + vaga.id}}">
                          <input id="{{'input-add-list-' + vaga.id}}" type="checkbox" (change)="addOnList(vaga)">
                          <span class="span-checkmark"></span>
                        </label>
                      </ng-container>
                    </div>
                  </ng-container>
                  <div id="noContentOnList" *ngIf="1 >= listaVagas.length" class="noContentArea">
                    <span>Não foi encontrado nenhum colaborador nesse período.</span>
                  </div>
                </div>
                <div id="isloading" *ngIf="isLoading === true" class="isloading-table">
                  <isLoading></isLoading>
                </div>
              </div>
            </div>
            <div class="buttons">
              <div class="items-page-area">
                <select (change)="selectItemsPerPage($event.target.value)" class="items-page">
                  <span>{{itemsPage}}</span>
                  <option *ngFor="let option of itemsPageDefaultNumbers">{{option}}</option>
                </select>
              </div>
              <div *ngIf="moreColaboradorThanVagas === false && listaVagasSelecionadas.length === 0"
                class="button-area">
                <button [disabled]="vagaInfo === null || vagaInfo === undefined" (click)="aprovarTodos()"
                  class="button-aprove">
                  <span>Aprovar todos</span>
                </button>
                <div class="tooltipgeral tooltip-aproveall">
                  <span *ngIf="vagaInfo === null || vagaInfo === undefined">Necessário cadastrar informações da vaga
                    para este
                    período.</span>
                  <span *ngIf="vagaInfo !== null && vagaInfo !== undefined && vagaInfo.quantidade === 0">Não há mais
                    vagas para este período</span>
                  <span *ngIf="listaVagas !== null && listaVagas !== undefined && listaVagas.length === 0">Não há
                    colaboradores para
                    aprovar.</span>
                </div>
              </div>
              <div *ngIf="moreColaboradorThanVagas === false && listaVagasSelecionadas.length >= 1" class="button-area">
                <button [disabled]="vagaInfo === null || vagaInfo === undefined" (click)="aprovarTodos()"
                  class="button-aprove-selecionados">
                  <span>Aprovar Selecionados</span>
                </button>
                <div class="tooltipgeral tooltip-selecteds">
                  <span *ngIf="vagaInfo === null || vagaInfo === undefined">Necessário cadastrar informações da vaga
                    para este
                    período.</span>
                  <span *ngIf="vagaInfo !== null && vagaInfo !== undefined && vagaInfo.quantidade === 0">Não há mais
                    vagas para este período</span>
                  <span *ngIf="listaVagas !== null && listaVagas !== undefined && listaVagas.length === 0">Não há
                    colaboradores para
                    aprovar.</span>
                </div>
              </div>
              <div *ngIf="moreColaboradorThanVagas === true && vagaInfo !== null && vagaInfo !== undefined"
                class="button-area">
                <button [disabled]="vagaInfo.quantidade === 0" (click)="sortearTodasVagas()" class="button-sort">
                  <span>Sortear vagas</span>
                </button>
                <div class="tooltipgeral tooltip-sortear">
                  <span *ngIf="vagaInfo === null || vagaInfo === undefined">Necessário cadastrar informações da vaga
                    para este
                    período</span>
                  <span *ngIf="vagaInfo !== null && vagaInfo !== undefined && vagaInfo.quantidade === 0">Não há mais
                    vagas para este período</span>
                  <span *ngIf="listaVagas !== null && listaVagas !== undefined && listaVagas.length === 0">Não há
                    colaboradores para
                    aprovar.</span>
                </div>
              </div>
            </div>
          </div>
          <div id="loading" *ngIf="isLoading === true" class="isloading-table">
            <isLoading></isLoading>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
